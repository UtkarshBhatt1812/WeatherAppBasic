<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 class="app-title">Weather App</h1>

    <div class="card">
        <div id="search">
            <label for="citySearch"> Enter City : 
            <input type="text" placeholder="Enter City Name" id="citySearch">
            </label>
            <button id="searchBtn">
                Search
            </button>
        </div>
        <div class="weatherIcon"><img id="weather-icon-img" src="https://openweathermap.org/img/wn/10d@2x.png" alt="Weather Icon"></div>
        <div id="temp">Temperature</div>
        <div id="description">Description</div>
        <div class="details">
            <div class="col">
                <img src="https://cdn-icons-png.flaticon.com/512/481/481427.png" class="icon">
                <div>
                    <p class="humidity">50%</p>
                    <p>Humidity</p>
                </div>
            </div>
            <div class="col">
                <img src="https://cdn-icons-png.flaticon.com/512/136/136712.png" class="icon">
                <div>
                    <p class="wind">15 km/h</p>
                    <p>Wind Speed</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById("searchBtn").addEventListener("click", async function(){
            const city = document.getElementById("citySearch").value;
            const data = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${key}`)
            const res = await data.json();
            
            document.getElementById("weather-icon-img").src = `https://openweathermap.org/img/wn/${res.weather[0].icon}@2x.png`;
            document.getElementById("temp").innerHTML = Math.round(res.main.temp) + "Â°C";
            document.getElementById("description").innerHTML = res.weather[0].description;
            
            document.querySelector(".humidity").innerHTML = res.main.humidity + "%";
            document.querySelector(".wind").innerHTML = res.wind.speed + " km/h";
        })
        
    </script>
</body>
</html>